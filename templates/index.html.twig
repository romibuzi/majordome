{% extends "base.html.twig" %}

{% block content %}
    {{ parent() }}
    <h2>List of last runs :</h2>
    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Date</th>
                <th>Provider</th>
                <th>Account Id</th>
                <th>Region</th>
                <th>Number of Violations detected</th>
                <th>Link</th>
            </tr>
        </thead>
        <tbody>
            {% for run in runs %}
                <tr>
                    <th scope="row">{{ run.0.id }}</th>
                    <td>{{ run.0.createdAt|date("F jS Y \\a\\t g:ia") }}</td>
                    <td>{{ run.0.provider }}</td>
                    <td>{{ run.0.accountId }}</td>
                    <td>{{ run.0.region }}</td>
                    <td>{{ run.violationsCount }}</td>
                    <td>
                        <a class="btn btn-primary btn-sm"
                           href="{{ path('run_details', {'id': run.0.id}) }}">
                            View Run Details
                        </a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
